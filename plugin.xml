<?xml version="1.0" encoding="UTF-8"?>
<plugin xmlns="http://apache.org/cordova/ns/plugins/1.0"
	xmlns:android="http://schemas.android.com/apk/res/android"
	id="com.xtreme.plugins.XtremePush"
	version="2.1.0"
	onLoad="true" >

	<name>XtremePush</name>
	<author>Xtreme Push</author>

	<description>
		Plugin allows integration with Xtreme Push provider.
	</description>

	<license>MIT</license>

	<js-module src="www/xtremepush.js" name="XtremePush">
		<clobbers target="XtremePush" />
	</js-module>

	<engines>
		<engine name="cordova" version=">=4.0.0" />
	</engines>
    

    <platform name="android">
        <config-file target="res/xml/config.xml" parent="/*">
            <feature name="XtremePush">
                <param name="android-package" value="com.xtreme.plugins.XtremePushPlugin" />
                <param name="onload" value="true" />
            </feature>
        </config-file>
        <!-- your configuration elements, references, source files, etc... -->
        <source-file src="src/android/XtremePushPlugin.java" target-dir="src/com/xtreme/plugins/" />
        <framework src="src/android/XPush.gradle" custom="true" type="gradleReference" />
        <resource-file src="lib/android/xpush_android_lib/XtremePush_lib.aar" target="lib/android/xpush_android_lib/XtremePush_lib.aar" />
     </platform>
    
    
	<platform name="ios">
		<config-file target="config.xml" parent="/*">
			<feature name="XtremePush">
				<param name="ios-package" value="XtremePushPlugin"/>
				<param name="onload" value="true" />
			</feature>
		</config-file>

		<!-- EDIT: Required when location functionality is used -->
		<preference name="NSLocationAlwaysUsageDescription" default="We use location services to send you relevant information, when and where you need it" />
		<config-file target="*-Info.plist" parent="NSLocationAlwaysUsageDescription">
			<string>$NSLocationAlwaysUsageDescription</string>
		</config-file>
		<!-- EDIT END -->

		<framework src="Security.framework" />
		<framework src="CFNetwork.framework" />
		<framework src="MobileCoreServices.framework" />
		<framework src="CoreTelephony.framework" />
		<framework src="SystemConfiguration.framework" />
		<framework src="CoreLocation.framework" />
		<framework src="CoreBluetooth.framework" />
		<framework src="libz.dylib" />

		<!-- EDIT: Required for Attributions and IDFA collection -->
		<!-- <framework src="AdSupport.framework" /> -->
		<!-- EDIT END -->

		<source-file src="src/ios/AppDelegate+XtremePush.m" />
		<source-file src="src/ios/Storage.m" />
		<source-file src="src/ios/XtremePushPlugin.m" />
		<header-file src="src/ios/AppDelegate+XtremePush.h" />
		<header-file src="src/ios/Storage.h" />
		<header-file src="src/ios/XtremePushPlugin.h" />
		<source-file src="lib/ios/libXPush.a" framework="true" />
		<header-file src="lib/ios/XPAction.h" />
		<header-file src="lib/ios/XPMessage.h" />
		<header-file src="lib/ios/XPMessageResponse.h" />
		<header-file src="lib/ios/XPMessageResponseNotification.h" />
		<header-file src="lib/ios/XPPublicConstants.h" />
		<header-file src="lib/ios/XPush.h" />
	</platform>
</plugin>
